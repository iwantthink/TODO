# C++基础学习

[c++教程](http://www.runoob.com/cplusplus/cpp-tutorial.html)

[w3school c++ 教程](https://wizardforcel.gitbooks.io/w3school-cpp/content/Text/0001-cpp-intro.html)


# 简介

`c++`是一种静态类型的,编译式的,通用的,大小写敏感的,不规则的编程语言,支持过程化编程,面向对象编程和泛型编程

- **静态类型的编程语言在编译时执行类型检查**(而不是在运行时执行类型检查)

`c++`扩展了c语言,可以被看做是c的超集,任何合法的c程序都是合法的`c++`程序


# 1. c++特点

**支持面向对象,包括四大特性**

- 封装

- 继承

- 多态

- 数据隐藏


**标准库**

- 核心语言,提供了所有构建块,包括变量,数据类型和常量..等等

- `c++`标准库,提供了大量的函数,用于操作文件,字符串等

- 标准模板块(`STL`),提供大量方法,用于操作数据结构等

**ANSI 标准**

ANSI标准是为了确保`c++`的便携性----即所编写的代码能在`Mac,UNIX,Windows,Alpha`计算机上都能通过编译

- ANSI C是美国国家标准协会（ANSI）对C语言发布的标准

ANSI标准已经稳定使用了很长时间,目前主要的`c++`编译器的制造商都支持ANSI标准

现行的c语言标准是2011采纳的`ISO/IEC 9899:2011` 即`c11`

**编程风格**

`c++`支持多种编程风格,可以使用`Fortran,c,Smalltalk`等任意一种语言的编程风格来编写代码


# 2. 基本语法

`c++`程序可以定义为对象的集合,这些对象通过调用彼此的方法进行交互

- 对象:具有状态和行为的类的实例

- 类:描述对象行为/状态的模板/蓝图

- 方法:表示一种行为,一个类可以包含多个方法.方法中可以写入逻辑,操作数据以及执行所有的动作

- 即时变量:每个对象都有其特有的即时变量,对象的状态是由这些即时变量的值创建的

## 2.1 程序结构
	
	#include <iostream>
	using namespace std;
	
	// main() 是程序开始执行的地方
	
	int main()
	{
	   cout << "Hello World" <<endl; // 输出 Hello World
	   return 0;
	}

- 头文件包含了程序必需的或有用的信息

- `using namespace std`,告诉编译器使用std命令空间

- `int main()`是主函数,程序从这里开始执行

- `<<`运算符用于向屏幕传多个值.

- `endl`表示换行

## 2.2 编译&运行

	$ g++ hello.cpp
	$ ./a.out
	Hello World


## 2.3 c++中的分号&块

**分号---`;`**

- `c++`中,`;`分号是语句结束符,每个语句必须以分号结束


**块---`{....}`**

- 块是一组使用大括号括起来的按逻辑连接的语句


## 2.4 标识符

`c++`标识符 以字母`A-Z`或`a-z`或下划线`_` 开始,后面可以跟字母,下划线,数字

标识符内不允许出现标点字符,例如` @、$ 和 %。`

`c++`区分大小写

## 2.5 关键字

`c++`保留了一些字符作为其关键字,这些关键字不能被用作常量名,变量名和其他标识名称

## 2.6 c++中的空格

只包含空格的行 ,被称为空白行,可能带有注释,c++编译器会完全忽略它

`c++`中空格可用于描述空白符,制表符,换行符和注释.

使用空格分隔语句,可以增强可读性


# 3. 注释

`c++`支持 单行注释 和多行注释

	//单行注释

	/*
		多行注释
	*/

- 注释中的字符没有任何特殊意义


# 4. 数据类型

## 4.1 基本的内置类型

类型 | 关键字
---|---
布尔型|bool
字符型|char
整形|int
浮点型|float
双浮点型|double
无类型|void
宽字符型|wchar_t

- **一些基本类型可以使用一个或者多个类型修饰符进行修饰**

	signed,unsigned,short,long


**具体的基本数据类型+类型修饰符 组合成的各种变量类型,在内存中存储时所占的内存大小  查看[c++数据类型](https://wizardforcel.gitbooks.io/w3school-cpp/content/Text/0005-cpp-data-types.html)**

**可以使用`sizeof()`函数来获取各种数据类型的大小**

	count << "Size of int : " << sizeof(int) << endl


## 4.2 typedef 声明

可以使用`typedef`关键字 给一个已有的类型声明一个新的名字

**语法:**

	typedef type newName

	typedef int newInt

	newInt distance

## 4.3 枚举类型

枚举类型声明一个可选的类型名称和一组标识符,用来作为该类型的值

**语法:**

	enum enum-name{list of names} var-list

	enum color{red,green,blue} c
	c = blue

默认情况下,枚举的值从0开始,以此类推

也可以手动为一个枚举设置值,那么该枚举之后的值都会以这个基础递增

	enum color{red,green=5,blue};
	blue = 6

# 5. c++变量类型

**变量:**
- 程序可操作的存储区的名称,`c++`中每个变量都有指定的类型,类型决定了变量存储的大小和布局,该范围内的值都可以存储在内存中.

## 5.1 变量定义

变量定义就是告诉编译器在何处创建变量的存储,以及如何创建变量的存储

变量定义需要指定一个数据类型,并包含该类型的一个或多个变量的列表

	type variable_list

- `type`必须是一个有效的c++数据类型,`char,w_char,int,float,double,bool`或者任意自定义的对象

- `variable_list`:标识符

- 变量被定义时可以同时被初始化(指定一个初始值)

		int num = 1;


**不带初始化的定义：带有静态存储持续时间的变量会被隐式初始化为 NULL（所有字节的值都是 0），其他所有变量的初始值是未定义的。**

## 5.2 变量声明

C++程序通常由许多文件组成，为了让多个文件访问相同的变量，C++区分了声明和定义。

- 变量的定义（definition）用于为变量分配存储空间，还可以为变量指定初始值。在程序中，变量有且仅有一个定义。

- 声明（declaration）用于向程序表明变量的类型和名字。

- 定义也是声明：当定义变量的时候我们声明了它的类型和名字。可以通过使用extern声明变量名而不定义它。不定义变量的声明包括对象名、对象类型和对象类型前的关键字`extern`。

- extern声明不是定义，也不分配存储空间。事实上它只是说明变量定义在程序的其他地方。程序中变量可以声明多次，但只能定义一次。

- 只有当声明也是定义时，声明才可以有初始化式，因为只有定义才分配存储空间。初始化式必须要有存储空间来进行初始化。如果声明有初始化式，那么它可被当作是定义，即使声明标记为extern。

- 任何在多文件中使用的变量都需要有与定义分离的声明。在这种情况下，一个文件含有变量的定义，使用该变量的其他文件则包含该变量的声明（而不是定义）。

**定义和创建最重要的区别是**:

- **定义:创建对象,并为这个对象分配了内存**

		int a,b;

- **声明:并没有分配内存**

		extern int a,b;

## 5.3 左值和右值

`C++` 中有两种类型的表达式：

- 左值（`lvalue`）：指向内存位置的表达式被称为左值（lvalue）表达式。左值可以出现在赋值号的左边或右边。

- 右值（`rvalue`）：术语右值（rvalue）指的是存储在内存中某些地址的数值。右值是不能对其进行赋值的表达式，也就是说，右值可以出现在赋值号的右边，但不能出现在赋值号的左边。

## 6. 变量作用域

一般来说有三个地方可以声明变量,根据这个可以分为三种变量:

1. 函数或一个代码块内部声明的变量,**称为局部变量**

	只能在函数内部或者代码块内部使用

2. 函数参数的定义中声明的变量,**称为形式参数**

	全局变量的值在程序的整个生命周期内都是有效的,全局变量可以被任何函数访问.

	局部变量和全局变量的名称可以相同,但是在定义了局部变量的函数内,局部变量会覆盖掉全局变量的值

3. 在所有函数外声明的变量,**称为全局变量**

**局部变量被定义时,系统不会对其进行初始化,必须手动对其初始化**

**全局变量被定义时,系统会自动初始化**

数据类型|默认值
---|---
int|0
char|'\0'
float|0
double|0
pointer|NULL

# 7. 常量

常量是固定值,在程序执行期间不会改变,这些固定的值,又被称为**字面量**

## 7.1 定义常量

在`c++`中,有俩种定义常量的方式:

- 使用`#define`预处理器

	**语法: **
		#define identifier value
		#define WIDTH 5

- 使用`const`关键字

	**语法:**

		const type variable = value;
		const int WIDTH = 5


**常量的标识符通常用大写字母表示**


# 8. 修饰符类型

**`c++`允许在`char,int和double`数据类型前放置修饰符**.修饰符用于改变基本类型的含义


**数据类型修饰符的类型以及适用范围:**

- `signed`:整型,字符型

- `unsigned`:整型，字符型

- `long`:整型，双精度型

- `short`:整型

**修饰符 `signed 和 unsigned` 也可以作为 `long 或 short `修饰符的前缀。**

	unsigned long int。


`C++` 允许使用速记符号来声明**无符号短整数或无符号长整数**。可以通过不写 int，只写修饰符 `unsigned`、`short` 或 `unsigned`、`long`，`int` 是隐含的。

## 8.1 类型限定符

限定符|含义
---|---
const|const 类型的对象在程序执行期间不能被修改改变。
volatile|修饰符 volatile 告诉编译器，变量的值可能以程序未明确指定的方式被改变。
restrict|由 restrict 修饰的指针是唯一一种访问它所指向的对象的方式。只有 C99 增加了新的类型限定符 restrict。


# 9. 存储类

**存储类定义`c++`程序中变量/函数的范围(可见性)和生命周期,这些说明符被放置在所修饰的类型之前**

- auto

- register

- static

- extern

- mutable

## 9.1 auto存储类

`auto`存储类是所有局部变量默认的存储类

`auto`只能被用在函数内,即`auto`只能修饰局部变量

## 9.2 register存储类

`register` 存储类用于定义存储在寄存器中而不是 RAM 中的局部变量。这意味着变量的最大尺寸等于寄存器的大小（通常是一个词），且不能对它应用一元的 '&' 运算符（因为它没有内存位置）。

寄存器只用于需要快速访问的变量，比如计数器。还应注意的是，定义 `register` 并不意味着变量将被存储在寄存器中，它意味着变量可能存储在寄存器中，这取决于硬件和实现的限制。


## 9.3 static 存储类

`static`存储类指示**编译器在程序的生命周期内保持局部变量的存在，而不需要在每次它进入和离开作用域时进行创建和销毁**

使用 `static` 修饰局部变量可以在函数调用之间保持局部变量的值

`static` 修饰符也可以应用于全局变量。当 `static` 修饰全局变量时，会使变量的作用域限制在声明它的文件内。
