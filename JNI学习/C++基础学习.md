# C++基础学习

[c++教程](http://www.runoob.com/cplusplus/cpp-tutorial.html)

[w3school c++ 教程](https://wizardforcel.gitbooks.io/w3school-cpp/content/Text/0001-cpp-intro.html)


# 简介

`c++`是一种静态类型的,编译式的,通用的,大小写敏感的,不规则的编程语言,支持过程化编程,面向对象编程和泛型编程

- **静态类型的编程语言在编译时执行类型检查**(而不是在运行时执行类型检查)

`c++`扩展了c语言,可以被看做是c的超集,任何合法的c程序都是合法的`c++`程序


# 1. c++特点

**支持面向对象,包括四大特性**

- 封装

- 继承

- 多态

- 数据隐藏


**标准库**

- 核心语言,提供了所有构建块,包括变量,数据类型和常量..等等

- `c++`标准库,提供了大量的函数,用于操作文件,字符串等

- 标准模板块(`STL`),提供大量方法,用于操作数据结构等

**ANSI 标准**

ANSI标准是为了确保`c++`的便携性----即所编写的代码能在`Mac,UNIX,Windows,Alpha`计算机上都能通过编译

- ANSI C是美国国家标准协会（ANSI）对C语言发布的标准

ANSI标准已经稳定使用了很长时间,目前主要的`c++`编译器的制造商都支持ANSI标准

现行的c语言标准是2011采纳的`ISO/IEC 9899:2011` 即`c11`

**编程风格**

`c++`支持多种编程风格,可以使用`Fortran,c,Smalltalk`等任意一种语言的编程风格来编写代码


# 2. 基本语法

`c++`程序可以定义为对象的集合,这些对象通过调用彼此的方法进行交互

- 对象:具有状态和行为的类的实例

- 类:描述对象行为/状态的模板/蓝图

- 方法:表示一种行为,一个类可以包含多个方法.方法中可以写入逻辑,操作数据以及执行所有的动作

- 即时变量:每个对象都有其特有的即时变量,对象的状态是由这些即时变量的值创建的

## 2.1 程序结构
	
	#include <iostream>
	using namespace std;
	
	// main() 是程序开始执行的地方
	
	int main()
	{
	   cout << "Hello World" <<endl; // 输出 Hello World
	   return 0;
	}

- 头文件包含了程序必需的或有用的信息

- `using namespace std`,告诉编译器使用std命令空间

- `int main()`是主函数,程序从这里开始执行

- `<<`运算符用于向屏幕传多个值.

- `endl`表示换行

## 2.2 编译&运行

	$ g++ hello.cpp
	$ ./a.out
	Hello World


## 2.3 c++中的分号&块

**分号---`;`**

- `c++`中,`;`分号是语句结束符,每个语句必须以分号结束


**块---`{....}`**

- 块是一组使用大括号括起来的按逻辑连接的语句


## 2.4 标识符

`c++`标识符 以字母`A-Z`或`a-z`或下划线`_` 开始,后面可以跟字母,下划线,数字

标识符内不允许出现标点字符,例如` @、$ 和 %。`

`c++`区分大小写

## 2.5 关键字

`c++`保留了一些字符作为其关键字,这些关键字不能被用作常量名,变量名和其他标识名称

## 2.6 c++中的空格

只包含空格的行 ,被称为空白行,可能带有注释,c++编译器会完全忽略它

`c++`中空格可用于描述空白符,制表符,换行符和注释.

使用空格分隔语句,可以增强可读性


# 3. 注释

`c++`支持 单行注释 和多行注释

	//单行注释

	/*
		多行注释
	*/

- 注释中的字符没有任何特殊意义


# 4. 数据类型

## 4.1 基本的内置类型

类型 | 关键字
---|---
布尔型|bool
字符型|char
整形|int
浮点型|float
双浮点型|double
无类型|void
宽字符型|wchar_t

- **一些基本类型可以使用一个或者多个类型修饰符进行修饰**

	signed,unsigned,short,long


**具体的基本数据类型+类型修饰符 组合成的各种变量类型,在内存中存储时所占的内存大小  查看[c++数据类型](https://wizardforcel.gitbooks.io/w3school-cpp/content/Text/0005-cpp-data-types.html)**

**可以使用`sizeof()`函数来获取各种数据类型的大小**

	count << "Size of int : " << sizeof(int) << endl


## 4.2 typedef 声明

可以使用`typedef`关键字 给一个已有的类型声明一个新的名字

**语法:**

	typedef type newName

	typedef int newInt

	newInt distance

## 4.3 枚举类型

枚举类型声明一个可选的类型名称和一组标识符,用来作为该类型的值

**语法:**

	enum enum-name{list of names} var-list

	enum color{red,green,blue} c
	c = blue

默认情况下,枚举的值从0开始,以此类推

也可以手动为一个枚举设置值,那么该枚举之后的值都会以这个基础递增

	enum color{red,green=5,blue};
	blue = 6

# 5. c++变量类型

**变量:**
- 程序可操作的存储区的名称,`c++`中每个变量都有指定的类型,类型决定了变量存储的大小和布局,该范围内的值都可以存储在内存中.

## 5.1 变量定义

变量定义就是告诉编译器在何处创建变量的存储,以及如何创建变量的存储

变量定义需要指定一个数据类型,并包含该类型的一个或多个变量的列表

	type variable_list

- `type`必须是一个有效的c++数据类型,`char,w_char,int,float,double,bool`或者任意自定义的对象

- `variable_list`:标识符

- 变量被定义时可以同时被初始化(指定一个初始值)

		int num = 1;


**不带初始化的定义：带有静态存储持续时间的变量会被隐式初始化为 NULL（所有字节的值都是 0），其他所有变量的初始值是未定义的。**

## 5.2 变量声明

C++程序通常由许多文件组成，为了让多个文件访问相同的变量，C++区分了声明和定义。

- 变量的定义（definition）用于为变量分配存储空间，还可以为变量指定初始值。在程序中，变量有且仅有一个定义。

- 声明（declaration）用于向程序表明变量的类型和名字。

- 定义也是声明：当定义变量的时候我们声明了它的类型和名字。可以通过使用extern声明变量名而不定义它。不定义变量的声明包括对象名、对象类型和对象类型前的关键字`extern`。

- extern声明不是定义，也不分配存储空间。事实上它只是说明变量定义在程序的其他地方。程序中变量可以声明多次，但只能定义一次。

- 只有当声明也是定义时，声明才可以有初始化式，因为只有定义才分配存储空间。初始化式必须要有存储空间来进行初始化。如果声明有初始化式，那么它可被当作是定义，即使声明标记为extern。

- 任何在多文件中使用的变量都需要有与定义分离的声明。在这种情况下，一个文件含有变量的定义，使用该变量的其他文件则包含该变量的声明（而不是定义）。

**定义和创建最重要的区别是**:

- **定义:创建对象,并为这个对象分配了内存**

		int a,b;

- **声明:并没有分配内存**

		extern int a,b;

## 5.3 左值和右值

`C++` 中有两种类型的表达式：

- 左值（`lvalue`）：指向内存位置的表达式被称为左值（lvalue）表达式。左值可以出现在赋值号的左边或右边。

- 右值（`rvalue`）：术语右值（rvalue）指的是存储在内存中某些地址的数值。右值是不能对其进行赋值的表达式，也就是说，右值可以出现在赋值号的右边，但不能出现在赋值号的左边。

## 6. 变量作用域

一般来说有三个地方可以声明变量,根据这个可以分为三种变量:

1. 函数或一个代码块内部声明的变量,**称为局部变量**

	只能在函数内部或者代码块内部使用

2. 函数参数的定义中声明的变量,**称为形式参数**

	全局变量的值在程序的整个生命周期内都是有效的,全局变量可以被任何函数访问.

	局部变量和全局变量的名称可以相同,但是在定义了局部变量的函数内,局部变量会覆盖掉全局变量的值

3. 在所有函数外声明的变量,**称为全局变量**

**局部变量被定义时,系统不会对其进行初始化,必须手动对其初始化**

**全局变量被定义时,系统会自动初始化**

数据类型|默认值
---|---
int|0
char|'\0'
float|0
double|0
pointer|NULL

# 7. 常量

常量是固定值,在程序执行期间不会改变,这些固定的值,又被称为**字面量**

## 7.1 定义常量

在`c++`中,有俩种定义常量的方式:

- 使用`#define`预处理器

	**语法: **
		#define identifier value
		#define WIDTH 5

- 使用`const`关键字

	**语法:**

		const type variable = value;
		const int WIDTH = 5


**常量的标识符通常用大写字母表示**


# 8. 修饰符类型

**`c++`允许在`char,int和double`数据类型前放置修饰符**.修饰符用于改变基本类型的含义


**数据类型修饰符的类型以及适用范围:**

- `signed`:整型,字符型

- `unsigned`:整型，字符型

- `long`:整型，双精度型

- `short`:整型

**修饰符 `signed 和 unsigned` 也可以作为 `long 或 short `修饰符的前缀。**

	unsigned long int。


`C++` 允许使用速记符号来声明**无符号短整数或无符号长整数**。可以通过不写 int，只写修饰符 `unsigned`、`short` 或 `unsigned`、`long`，`int` 是隐含的。

## 8.1 类型限定符

限定符|含义
---|---
const|const 类型的对象在程序执行期间不能被修改改变。
volatile|修饰符 volatile 告诉编译器，变量的值可能以程序未明确指定的方式被改变。
restrict|由 restrict 修饰的指针是唯一一种访问它所指向的对象的方式。只有 C99 增加了新的类型限定符 restrict。


# 9. 存储类

**存储类定义`c++`程序中变量/函数的范围(可见性)和生命周期,这些说明符被放置在所修饰的类型之前**

- auto

- register

- static

- extern

- mutable

## 9.1 auto存储类

`auto`存储类是所有局部变量默认的存储类

`auto`只能被用在函数内,即`auto`只能修饰局部变量

## 9.2 register存储类

`register` 存储类用于定义存储在寄存器中而不是 RAM 中的局部变量。这意味着变量的最大尺寸等于寄存器的大小（通常是一个词），且不能对它应用一元的 '&' 运算符（因为它没有内存位置）。

寄存器只用于需要快速访问的变量，比如计数器。还应注意的是，定义 `register` 并不意味着变量将被存储在寄存器中，它意味着变量可能存储在寄存器中，这取决于硬件和实现的限制。


## 9.3 static 存储类

`static`存储类指示**编译器在程序的生命周期内保持局部变量的存在，而不需要在每次它进入和离开作用域时进行创建和销毁**

使用 `static` 修饰局部变量可以在函数调用之间保持局部变量的值

`static` 修饰符也可以应用于全局变量。当 `static` 修饰全局变量时，会使变量的作用域限制在声明它的文件内。


## 9.4 extern 存储类

`extern` 存储类用于提供一个全局变量的引用，全局变量对所有的程序文件都是可见的。当使用 `extern` 时，对于无法初始化的变量，会把变量名指向一个之前定义过的存储位置。

- **`extern`可以理解为 是用来声明另一个文件中的一个全局变量或函数**

## 9.5 mutable存储类

`mutable`适用于类的对象,允许对象的成员替代常量,也就是说`mutable`成员可以通过const成员函数修改

# 10. 运算符

- 算术运算符

- 关系运算符

- 逻辑运算符

- 位运算符

- 赋值运算符

- 杂项运算符


## 10.1 杂项运算符

运算符|描述
---|---
`sizeof`|返回变量的大小。例如，sizeof(a) 将返回 4，其中 a 是整数
`Condition ? X : Y`	|如果 Condition 为真 ? 则值为 X : 否则值为 Y
`,`|顺序执行一系列运算。整个逗号表达式的值是以逗号分隔的列表中的最后一个表达式的值。
`.（点）和 ->（箭头)`|用于引用类、结构和共用体的成员
`Cast`|把一种数据类型转换为另一种数据类型。例如，int(2.2000) 将返回 2。
`&`|返回变量的地址。例如 `&a;` 将给出变量的实际地址
`*`|指向一个变量。例如，`*var;` 将指向变量 var。

- **`condition?x:y`又被称为条件运算符**

# 11. 循环

循环类型|描述
---|---
while 循环|当给定条件为真时，重复语句或语句组。它会在执行循环主体之前测试条件。
for 循环|多次执行一个语句序列，简化管理循环变量的代码。
do...while 循环|除了它是在循环主体结尾测试条件外，其他与 while 语句类似。
嵌套循环|可以在 while、for 或 do..while 循环内使用一个或多个循环。

控制语句|描述
---|---
`break`语句|终止 loop 或 switch 语句，程序流将继续执行紧接着 loop 或 switch 的下一条语句。
`continue`语句|引起循环跳过主体的剩余部分，立即重新开始测试条件。
`goto`语句|将控制转移到被标记的语句。但是不建议在程序中使用 goto 语句。

**可以通过`Ctrl+c`键来终止无限循环**

## 11.1 while循环

**语法:**

	while(condition)
	{
	   statement(s);
	}

## 11.2 for循环

**语法:**

	for ( init; condition; increment )
	{
	   statement(s);
	}

## 11.3 do...while 循环

**语法:**

	do
	{
	   statement(s);
	
	}while( condition );

## 11.4 嵌套循环

可以在任何类型的循环内嵌套其他任何类型的循环

## 11.5 break语句

**俩种用法:**

1. 当 break 语句出现在一个循环内时，循环会立即终止，且程序流将继续执行紧接着循环的下一条语句

2. 可用于终止 switch 语句中的一个 case

如果使用的是嵌套循环,break语句会停止执行最内层的循环

## 11.6 continue语句

`continue `会跳过当前循环中的代码，强迫开始下一次循环。

## 11.7 goto语句

**不建议使用**

**语法:**

	goto label;
	..
	.
	label: statement;

- `label`是识别被标记语句的标识符

# 12. 判断

语句|描述
---|---
`if`语句|一个 if 语句 由一个布尔表达式后跟一个或多个语句组成。
`if...else/else if`语句|一个 if 语句 后可跟一个可选的 else 语句，else 语句在布尔表达式为假时执行
嵌套`if`语句|可以在一个 if 或 else if 语句内使用另一个 if 或 else if 语句
`switch`语句|一个 switch 语句允许测试一个变量等于多个值时的情况
嵌套`switch`语句|可以在一个 switch 语句内使用另一个 switch 语句


- **c语言将任何非零或非空的值 当做true,把零活null当做false**

# 13. 函数

函数是一组一起执行一个任务的语句,每个`c++`程序至少有一个函数,即主函数`main()`

函数声明:用来告诉编译器函数的名称,返回类型和参数

函数定义:提供函数的实际主体

**`c++`标准库提供了大量的内置函数.**例如`strcat()`用来连接俩个字符串,`memcpy()`用来复制内存到另外一个位置

## 13.1 定义函数

**语法:**

	return_type function_name( parameter list )
	{
	   body of the function
	}

- **返回类型**：一个函数可以返回一个值。`return_type` 是函数返回的值的数据类型。有些函数执行所需的操作而不返回值，在这种情况下，`return_type` 是关键字 `void`。

- **函数名称**：这是函数的实际名称。函数名和参数列表一起构成了函数签名。

- **参数**：参数就像是占位符。当函数被调用时，向参数传递一个值，这个值被称为实际参数。参数列表包括函数参数的类型、顺序、数量。参数是可选的，也就是说，函数可能不包含参数。

- **函数主体**：函数主体包含一组定义函数执行任务的语句


## 13.2 函数声明

函数声明会告诉编译器函数名称及如何调用函数。

函数的实际主体可以单独定义。

**语法:**

	return_type function_name( parameter list );


**当在一个源文件中定义函数且在另一个文件中调用函数时，函数声明是必需的。在这种情况下，应该在调用函数的文件顶部声明函数。**

## 13.3 调用函数

当程序调用函数时，程序控制权会转移给被调用的函数。被调用的函数执行已定义的任务，当函数的返回语句被执行时，或到达函数的结束括号时，会把程序控制权交还给主程序。


## 13.4 函数参数

如果函数要使用参数，则必须声明接受参数值的变量。**这些变量称为函数的形式参数。**

- **形式参数就像函数内的其他局部变量，在进入函数时被创建，退出函数时被销毁。**

调用类型|描述
---|---
传值调用|该方法把参数的实际值复制给函数的形式参数。在这种情况下，修改函数内的形式参数对实际参数没有影响。
指针调用|该方法把参数的地址复制给形式参数。在函数内，该地址用于访问调用中要用到的实际参数。这意味着，修改形式参数会影响实际参数
引用调用|该方法把参数的引用复制给形式参数。在函数内，该引用用于访问调用中要用到的实际参数。这意味着，修改形式参数会影响实际参数

- 默认情况下,`c++`使用**传值调用**来来传递参数

## 13.5 参数的默认值

定义函数时,可以为参数列表中的每一个参数指定默认值.当调用函数时,如果实际参数的值留空,那么会使用默认值


# 14. 数字

## 14.1 定义数字

如 int、short、long、float 和 double 等等。


## 14.2 数学运算

在 C++ 中，除了可以创建各种函数,**还提供了许多内置函数,这些函数写在标准 C 和 C++ 库中**

**为了使用这些内置函数,首先得引入头文件**

	#include <cmath>

序号|	函数 & 描述
---|---
1|	`double cos(double);`该函数返回弧度角（double 型）的余弦。
2|	`double sin(double);`该函数返回弧度角（double 型）的正弦。
3|	`double tan(double);`该函数返回弧度角（double 型）的正切。
4|	`double log(double);`该函数返回参数的自然对数。
5|	`double pow(double, double);`假设第一个参数为 x，第二个参数为 y，则该函数返回 x 的 y 次方。
6|	`double hypot(double, double);`该函数返回两个参数的平方总和的平方根，也就是说，参数为一个直角三角形的两个直角边，函数会返回斜边的长度。
7|	`double sqrt(double);`该函数返回参数的平方根。
8|	`int abs(int);`该函数返回整数的绝对值。
9|	`double fabs(double);`该函数返回任意一个十进制数的绝对值。
10|	`double floor(double);`该函数返回一个小于或等于传入参数的最大整数。


## 14.3 随机数

跟随机数生成器相关的有俩个函数

1. `rand()`:获取随机数

2. `srand()`:生成随机数之前必须先调用该函数

# 15. 数组

概念|描述
---|---
多维数组|	C++ 支持多维数组。多维数组最简单的形式是二维数组。
指向数组的指针|	您可以通过指定不带索引的数组名称来生成一个指向数组中第一个元素的指针。
传递数组给函数|	您可以通过指定不带索引的数组名称来给函数传递一个指向数组的指针。
从函数返回数组|	C++ 允许从函数返回数组。


**声明数组**

	type arrayName [ arraySize ];

**初始化数组**

c++中,可以逐个初始化数组,也可以使用一个初始化语句

	double balance[5] = {1000.0, 2.0, 3.4, 17.0, 50.0};

- 花括号内的值的数量不能大于数组声明时指定的元素数目

- 可以不再声明中指定元素的数目,但是此时必须初始化

## 15.1 多维数组

c++支持多维数组,声明形式如下:

	type name[size1][size2]...[sizeN];

- `type`可以是任意有效c++数据类型

- `arrayName`需要是一个有效的c++标识符


## 15.2 指向数组的指针
## 15.3 传递数组给函数
## 15.4 从函数返回数组

# 16. 字符串

c++提供了俩种类型的字符串表示形式:

1. c风格字符串

2. c++引入的`string`类类型

## 16.1 c风格字符串

通过使用`null`字符`\0`终止的一维字符数组.

例如,下面的声明和初始化创建了一个`"Hello"`字符串,**由于数组的末尾存储了空字符,所以字符数组的大小比单词`"Hello"`字符数要多一个**

	//形式1
	char greeting[6] = {'H','e','l','l','o','\0'}
	//形式2
	char greeting[] = "Hello";

- 实际上,不需要将`null`字符放在字符串常量的末尾,c++编译器在初始化数组时,会自动将`\0`放在字符串的末尾


序号|	函数 & 目的
---|---
1	|`strcpy(s1, s2);`复制字符串 s2 到字符串 s1。
2	|`strcat(s1, s2);`连接字符串 s2 到字符串 s1 的末尾。
3	|`strlen(s1);返回字符串 s1 的长度。
4	|`strcmp(s1, s2);`如果 s1 和 s2 是相同的，则返回 0；如果 s1<s2 则返回小于 0；如果 s1>s2 则返回大于 0。
5	|`strchr(s1, ch);`返回一个指针，指向字符串 s1 中字符 ch 的第一次出现的位置。
6	|`strstr(s1, s2);`返回一个指针，指向字符串 s1 中字符串 s2 的第一次出现的位置。

## 16.2 `string`类类型

c++标准库提供了`string`类类型,支持上述所有操作,还增加了其他功能

	string str = "hello string!";

# 17. 指针

每一个变量都有一个内存位置,每一个内存位置都可使用连字符号(`&`)运算符去访问其地址,其表示内存中的一个地址

	int age;
	cout << "age address = "<< &var << endl;

	>>>>>>>>>>>>>>>>>>>>>>>>>>>

	age address = 00AFFCC4

## 17.1 什么是指针?

指针是一个变量,其值为另外一个变量的地址(即内存位置的直接地址).跟其他的变量或常量一样,在使用指针存储其他变量地址之前,需要对其进行声明

指针变量声明的一般形式为:

	type *var-name

	int    *ip;    /* 一个整型的指针 */
	double *dp;    /* 一个 double 型的指针 */
	float  *fp;    /* 一个浮点型的指针 */
	char   *ch     /* 一个字符型的指针 */

- `type`是指针的基类型,必须得是一个有效的c++数据类型

- `var-name`是指针变量的名称

- `*`用来指定一个变量是指针

所有指针的值的实际数据类型，不管是整型、浮点型、字符型，还是其他的数据类型，都是一样的，**都是一个代表内存地址的长的十六进制数**。不同数据类型的指针之间唯一的不同是，指针所指向的变量或常量的数据类型不同。


